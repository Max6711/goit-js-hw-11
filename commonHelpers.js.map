{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\n\nexport const listImg = document.querySelector('.list');\nlet lightbox;\n\nexport const markupInterface = (data) => {\n    const markup = data.hits.map((hit) => {\n        return `\n            <li class=\"item-list\">\n                <a href=\"${hit.largeImageURL}\" class=\"item-list-link\">\n                    <img class=\"item-list-img\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\">\n                </a>\n                <div class='markup-info'>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Likes</h3>\n                        <p class=\"item-list-text\">${hit.likes}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Views</h3>\n                        <p class=\"item-list-text\">${hit.views}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Comments</h3>\n                        <p class=\"item-list-text\">${hit.comments}</p>\n                    </div>\n                    <div class=\"item-list-info-text\">\n                        <h3 class=\"item-list-title\">Downloads</h3>\n                        <p class=\"item-list-text\">${hit.downloads}</p>\n                    </div>\n                </div>\n            </li>\n        `;\n    }).join(\"\");\n    listImg.innerHTML = markup;\n\n    lightbox = new SimpleLightbox('.item-list-link', {\n        captionsData: 'alt', \n        captionDelay: 250,\n        overlayOpacity: 0.8,\n    });\n\n    lightbox.refresh();\n};\n","const API_KEY = '43813609-98f1a5b8a61f7cd1a2ca10379'; \nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByQuery = (query = 'cat') => {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        orientation: 'horizontal',\n    });\n\n    return fetch(`${BASE_URL}?${searchParams.toString()}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(`Error ${response.status}: ${response.statusText}`);\n            }\n\n            return response.json();\n        });\n};","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { markupInterface } from './js/render-functions.js';\nimport { fetchPhotosByQuery } from './js/pixabay-api.js';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nlet lightbox;\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n    const searchQuery = event.target.elements.searchKeyword.value.trim();\n\n    if (searchQuery === '') {\n        galleryEl.innerHTML = '';\n        event.target.reset();\n        iziToast.show({\n            message: 'Input field cannot be empty',\n            position: 'topRight',\n            timeout: 2000,\n            color: 'red',\n        });\n        return;\n    }\n\n    galleryEl.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n\n    fetchPhotosByQuery(searchQuery)\n        .then(imagesData => {\n            console.log('Received data:', imagesData);\n\n            if (!imagesData.hits || imagesData.hits.length === 0) {\n                iziToast.show({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight',\n                    timeout: 2000,\n                    color: 'red',\n                });\n\n                galleryEl.innerHTML = '';\n                return;\n            }\n\n            markupInterface(imagesData);\n\n            if (lightbox) {\n                lightbox.destroy();\n            }\n            lightbox = new SimpleLightbox('.js-gallery a', {\n                captionDelay: 250,\n            });\n        })\n        .catch(error => {\n            console.error('Error fetching photos:', error);\n            iziToast.show({\n                message: 'An error occurred while fetching photos',\n                position: 'topRight',\n                timeout: 2000,\n                color: 'red',\n            });\n        })\n        .finally(() => {\n            event.target.reset();\n            loaderEl.classList.add('is-hidden');\n        });\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["listImg","lightbox","markupInterface","data","markup","hit","SimpleLightbox","API_KEY","BASE_URL","fetchPhotosByQuery","query","searchParams","response","searchFormEl","galleryEl","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","error"],"mappings":"6vBAEO,MAAMA,EAAU,SAAS,cAAc,OAAO,EACrD,IAAIC,EAEG,MAAMC,EAAmBC,GAAS,CACrC,MAAMC,EAASD,EAAK,KAAK,IAAKE,GACnB;AAAA;AAAA,2BAEYA,EAAI,aAAa;AAAA,sDACUA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oDAKpCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,oDAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,oDAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,oDAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,SAK5D,EAAE,KAAK,EAAE,EACVL,EAAQ,UAAYI,EAEpBH,EAAW,IAAIK,EAAe,kBAAmB,CAC7C,aAAc,MACd,aAAc,IACd,eAAgB,EACxB,CAAK,EAEDL,EAAS,QAAO,CACpB,EC1CMM,EAAU,qCACVC,EAAW,2BAEJC,EAAqB,CAACC,EAAQ,QAAU,CACjD,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKJ,EACL,EAAGG,EACH,YAAa,YACrB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAa,SAAU,CAAA,EAAE,EAChD,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,SAASA,EAAS,MAAM,KAAKA,EAAS,UAAU,EAAE,EAGtE,OAAOA,EAAS,MAC5B,CAAS,CACT,ECXMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpD,IAAId,EAEJ,SAASe,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,cAAc,MAAM,OAE9D,GAAIC,IAAgB,GAAI,CACpBJ,EAAU,UAAY,GACtBG,EAAM,OAAO,QACbE,EAAS,KAAK,CACV,QAAS,8BACT,SAAU,WACV,QAAS,IACT,MAAO,KACnB,CAAS,EACD,MACH,CAEDL,EAAU,UAAY,GACtBC,EAAS,UAAU,OAAO,WAAW,EAErCN,EAAmBS,CAAW,EACzB,KAAKE,GAAc,CAGhB,GAFA,QAAQ,IAAI,iBAAkBA,CAAU,EAEpC,CAACA,EAAW,MAAQA,EAAW,KAAK,SAAW,EAAG,CAClDD,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,WACV,QAAS,IACT,MAAO,KAC3B,CAAiB,EAEDL,EAAU,UAAY,GACtB,MACH,CAEDZ,EAAgBkB,CAAU,EAEtBnB,GACAA,EAAS,QAAO,EAEpBA,EAAW,IAAIK,EAAe,gBAAiB,CAC3C,aAAc,GAC9B,CAAa,CACb,CAAS,EACA,MAAMe,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CF,EAAS,KAAK,CACV,QAAS,0CACT,SAAU,WACV,QAAS,IACT,MAAO,KACvB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXF,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CAC9C,CAAS,CACT,CAEAF,EAAa,iBAAiB,SAAUG,CAAkB"}